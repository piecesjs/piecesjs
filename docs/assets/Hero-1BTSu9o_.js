const __vite__fileDeps=["assets/hero-le_-d7Q2.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{p as b,_ as v,g as o}from"./index-fgE1vptK.js";function m(a,t,s){return a+(t-a)*s}function P(a,t,s){return Math.max(t,Math.min(a,s))}class X extends b{constructor(){super("Hero",{stylesheets:[()=>v(()=>Promise.resolve({}),__vite__mapDeps([0]))]}),this.lerpXProgress=.5,this.xProgress=.5,this.lerpYProgress=0,this.yProgress=0,this.gradientAngle=0,this.lerpGradientAngle=0,this.$canvas=this.domAttr("canvas"),this.ctx=this.$canvas.getContext("2d")}mount(){this.resize(),this.mouseX=this.ww/2,this.mouseY=this.wh/2,this.on("mousemove",window,this.mousemove),this.on("resize",window,this.resizeDebounce),this.on("click",window,this.click),this.animate()}generateBackground(){const e=[];this.ctx.width=this.ww+100,this.ctx.height=this.wh+42,this.$canvas.width=this.ww+100,this.$canvas.height=this.wh+42;const c=Math.ceil(this.$canvas.width/100),l=Math.ceil(this.$canvas.height/42);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.font="16px 'Delight Regular', Arial, sans-serif",this.ctx.fillStyle="#fff",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.globalAlpha=0;for(let i=0;i<l;i++)for(let h=0;h<c;h++){let n=-25;i%2==0&&(n=100/4);const d=h*100+n,g=i*42+42/2,r=d+100/2,w=g+42/2,f=r-this.ww/2,x=w-this.wh/2,p=Math.atan2(x,f),u=Math.abs(r-this.ww/2)/2,y=Math.abs(w-this.wh/2)/2;e.push({x:d,y:g,width:100,height:42,offsetDisplayOpacity:0,offsetDisplayY:Math.sin(p)*y,offsetDisplayX:Math.cos(p)*u}),this.ctx.fillText("piecesjs",r,w)}o.to(e,{duration:1.2,delay:.6,ease:"power3.out",offsetDisplayOpacity:1,offsetDisplayY:0,offsetDisplayX:0,stagger:{amount:1,grid:[l,c],from:"center",ease:"power3.inOut"}}),this.backgroundBoxes=e}click(){this.mode===0?(this.mode=1,this.classList.remove("mode-0"),this.classList.add("mode-1")):(this.mode=0,this.classList.add("mode-0"),this.classList.remove("mode-1"))}animate(){this.raf=window.requestAnimationFrame(this.animate.bind(this)),this.lerpXProgress=m(this.lerpXProgress,this.xProgress,.05),this.lerpYProgress=m(this.lerpYProgress,this.yProgress,.05),this.lerpGradientAngle=m(this.lerpGradientAngle,this.gradientAngle,1),this.ctx.clearRect(0,0,this.$canvas.width,this.$canvas.height),this.backgroundBoxes.forEach(t=>{const s=t.x+t.offsetDisplayX,e=t.y+t.offsetDisplayY,c=s+t.width/2,l=e+t.height/2,i=this.ctx.createLinearGradient(s,0,s+t.width,0);i.addColorStop(0,"rgb(0, 0, 0)"),i.addColorStop(1-this.lerpXProgress,"rgb(100, 100, 100)"),i.addColorStop(1,"rgb(0, 0, 0)"),this.ctx.fillStyle=i;const h=Math.abs(s-this.mouseX),n=Math.abs(e-this.mouseY),d=Math.sqrt(h*h+n*n),g=Math.sqrt(this.ww*this.ww+this.wh*this.wh),r=1-d/g;this.ctx.globalAlpha=P(r*t.offsetDisplayOpacity,0,1),this.ctx.fillText("piecesjs",c,l),this.ctx.globalAlpha=1}),this.style.setProperty("--gradient-angle",`${this.lerpGradientAngle}deg`),this.style.setProperty("--progress-x",`${o.utils.mapRange(0,1,-1,1,this.lerpXProgress)}`),this.style.setProperty("--progress-y",`${o.utils.mapRange(0,1,-1,1,this.lerpYProgress)}`)}mousemove(t){this.mouseX=t.clientX,this.mouseY=t.clientY,this.xProgress=t.clientX/window.innerWidth,this.yProgress=t.clientY/window.innerHeight,this.angle=o.utils.mapRange(0,window.innerHeight,80,100,this.mouseY),this.gradientAngle=o.utils.mapRange(0,window.innerWidth,0,360,this.mouseX)}resizeDebounce(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.resizeTimeout&&this.resizeTimeout.kill(),this.resizeTimeout=o.delayedCall(.1,()=>{this.resize()})}resize(){this.ww=window.innerWidth,this.wh=window.innerHeight,this.generateBackground()}unmount(){this.off("mousemove",window,this.mousemove),window.cancelAnimationFrame(this.raf)}}customElements.define("c-hero",X);
