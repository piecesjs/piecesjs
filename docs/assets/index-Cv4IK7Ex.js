(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();const p="modulepreload",g=function(l){return"/piecesjs/"+l},h={},v=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),i=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.all(t.map(o=>{if(o=g(o),o in h)return;h[o]=!0;const a=o.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":p,a||(c.as="script",c.crossOrigin=""),c.href=o,i&&c.setAttribute("nonce",i),document.head.appendChild(c),a)return new Promise((m,f)=>{c.addEventListener("load",m),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})},y=async(l,e,t=document)=>{t.getElementsByTagName(l).length>0&&await e()},d=l=>{var e=Object.prototype.toString.call(l);return typeof l=="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(e)&&typeof l.length=="number"&&(l.length===0||typeof l[0]=="object"&&l[0].nodeType>0)};class b{constructor(){this.loadedPiecesCount=0,this.piecesCount=0,this.currentPieces={}}addPiece(e){typeof this.currentPieces[e.name]!="object"&&(this.currentPieces[e.name]={}),this.currentPieces[e.name][e.id]=e}removePiece(e){delete this.currentPieces[e.name][e.id]}}let E=new b;class L extends HTMLElement{constructor(e,{stylesheets:t=[]}={}){super(),this.name=e||this.constructor.name,this.template=document.createElement("template"),this.piecesManager=E,this.stylesheets=t,this.updatedPiecesCount=this.piecesManager.piecesCount++,this.innerHTML!=""&&(this.baseHTML=this.innerHTML),this._boundListeners=new Map}connectedCallback(e=!0){e&&(typeof this.cid=="string"?this.cid=this.cid:this.cid=`c${this.updatedPiecesCount}`,this.piecesManager.addPiece({name:this.name,id:this.cid,piece:this})),this.privatePremount(e),this.baseHTML==null&&(this.innerHTML="",this.template.innerHTML=this.render()!=null?this.render():"",this.appendChild(this.template.cloneNode(!0).content)),this.privateMount(e)}render(){if(this.baseHTML!=null)return this.baseHTML}disconnectedCallback(){this.privateUnmount()}adoptedCallback(){}privatePremount(e=!0){this.baseHTML==null&&(this.innerHTML=""),this.log&&console.log("ðŸš§ premount",this.name),this.loadStyles(e),this.premount(e)}premount(e=!0){}privateMount(e){if(this.log&&console.log("âœ… mount",this.name),e){this.piecesManager.loadedPiecesCount++,this.domEventsElements=Array.from(this.querySelectorAll("*")).filter(n=>{const s=n.attributes;for(let r=0;r<s.length;r++)if(s[r].name.startsWith("data-events-"))return!0;return!1});const t=this.attributes;for(let n=0;n<t.length;n++)t[n].name.startsWith("data-events-")&&this.domEventsElements.push(this);this.domEventsElements&&this.domEventsElements.forEach(n=>{let s=n.attributes;for(let r=0;r<s.length;r++)if(s[r].name.startsWith("data-events-")){const i=s[r].name.replace("data-events-","");let o=s[r].value;const a=s[r].value.split(",");if(a.length==1)typeof this[o]=="function"&&this.on(i,n,this[o]);else if(a.length>=2&&n.dataset.eventInit==null){o=a[0];const u=a[1],c=a[2];n.dataset.eventInit=!0,this.on(i,n,()=>{this.call(o,n,u,c)})}}})}this.mount(e)}mount(e=!0){}privateUpdate(){this.log&&console.log("ðŸ”ƒ update",this.name),this.update(),this.privateUnmount(!0),this.connectedCallback(!1)}update(){}privateUnmount(e=!1){e||(this.piecesManager.removePiece({name:this.name,id:this.cid}),this.domEventsElements&&this.domEventsElements.forEach(t=>{let n=t.attributes;for(let s=0;s<n.length;s++)if(n[s].name.startsWith("data-events-")){const r=n[s].name.replace("data-events-","");let i=n[s].value;const o=n[s].value.split(",");if(o.length==1)typeof this[i]=="function"&&this.off(r,t,this[i]);else if(o.length>=2&&t.dataset.eventInit==null){i=o[0];const a=o[1],u=o[2];t.dataset.eventInit=!0,this.off(r,t,()=>{this.call(i,t,a,u)})}}})),this.log&&console.log("âŒ unmount",this.name),this.unmount(e)}unmount(e=!1){}attributeChangedCallback(e,t,n){t!==n&&(this[e]=n,this.privateUpdate())}$(e,t=this){const n=t.querySelectorAll(e);return n.length==1?n[0]:n.length==0?null:n}dom(e,t=this){const n=t.querySelectorAll(e);return n.length==1?n[0]:n.length==0?null:n}domAttr(e,t=this){const n=t.querySelectorAll(`[data-dom="${e}"]`);return n.length==1?n[0]:n.length==0?null:n}$All(e,t=this){return Array.from(t.querySelectorAll(e))}domAll(e,t=this){return Array.from(t.querySelectorAll(e))}domAttrAll(e,t=this){return Array.from(t.querySelectorAll(`[data-dom="${e}"]`))}captureTree(e=this){const t=this.querySelectorAll("[data-dom]");let n={};for(let s of t){const r=s.getAttribute("data-dom");typeof n[r]>"u"&&(n[r]=[]),n[r].push(s)}return n}on(e,t,n,s=null){if(t!=null){const r=`${e}_${n.name}`;if(!this._boundListeners.has(r)){const o=n.bind(this);this._boundListeners.set(r,{original:n,bound:o})}const i=this._boundListeners.get(r).bound;d(t)||Array.isArray(t)?t.length>0&&t.forEach(o=>{s==null?o.addEventListener(e,i):o.addEventListener(e,()=>i(s))}):s==null?t.addEventListener(e,i):t.addEventListener(e,()=>i(s))}}off(e,t,n){if(t!=null){const s=`${e}_${n.name}`,r=this._boundListeners.get(s);if(!r){console.warn(`No bound listener found for ${s}`);return}const i=r.bound;d(t)||Array.isArray(t)?t.length>0&&t.forEach(o=>{o.removeEventListener(e,i)}):t.removeEventListener(e,i),this._boundListeners.delete(s)}}emit(e,t=document,n){const s=new CustomEvent(e,{detail:n});t.dispatchEvent(s)}call(e,t,n,s){Object.keys(this.piecesManager.currentPieces).forEach(r=>{r==n&&Object.keys(this.piecesManager.currentPieces[r]).forEach(i=>{s!=null?i==s&&this.piecesManager.currentPieces[r][i].piece[e](t):this.piecesManager.currentPieces[r][i].piece[e](t)})})}async loadStyles(e=!0){if(e)for(let t=0;t<this.stylesheets.length;t++)await this.stylesheets[t]()}get log(){return typeof this.getAttribute("log")=="string"}get cid(){return this.getAttribute("cid")}set cid(e){return this.setAttribute("cid",e)}get properties(){return Object.values(this.attributes).map(e=>`${e.name}="${e.value}"`).join(" ")}}y("c-hero",()=>v(()=>import("./Hero-BMwWTK_b.js"),[]));export{v as _,L as p};
